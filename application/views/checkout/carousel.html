<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.0/css/bootstrap.min.css" integrity="sha384-SI27wrMjH3ZZ89r4o+fGIJtnzkAnFs3E4qz9DIYioCQ5l9Rd/7UAa8DHcaL8jkWt" crossorigin="anonymous">
</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <div id="myCarousel" class="carousel slide" data-interval="false">
                    <ol class="carousel-indicators">
                        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                        <li data-target="#myCarousel" data-slide-to="1"></li>
                        <li data-target="#myCarousel" data-slide-to="2"></li>
                    </ol>
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <video controls autoplay class="myvid" id="player">
                                <source src="http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4" type="video/mp4">
                            </video>
                        </div>
                        <div class="carousel-item">
                            <img id="player1" src="http://hk.hdwall365.com/wallpapers/1601/Planet-sky-mountains-clouds_1920x1080_wallpaper.jpg" class="d-block w-100">
                            <!-- <video controls autoplay class="myvid" id="player1">
                                <source src="http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4" type="video/mp4">
                            </video> -->
                        </div>
                        <!-- <div class="carousel-item">
                            <video controls autoplay class="myvid" id="player2">
                                <source src="http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4" type="video/mp4">
                            </video>
                        </div> -->
                    </div>
                    <a class="carousel-control-prev" href="#myCarousel" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Vorige</span>
                    </a>
                    <a class="carousel-control-next" href="#myCarousel" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Volgende</span>
                    </a>
                </div>
            </div>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.0/js/bootstrap.min.js" integrity="sha384-3qaqj0lc6sV/qpzrc1N5DC6i1VRn/HyX4qdPaiEFbn54VjQBEU341pvjz7Dv3n6P" crossorigin="anonymous"></script>
    <!-- <script>
    $(function() {
        var h = $(window).height();
        var header_h = $("#header").height();
        var footer_h = $("#footer").height();
        var main_h = $(".main").height();
        // $("#window_h").html(w+":"+h);
        if (h > main_h) {
            var h_sum = h - header_h - footer_h;
            $(".main").css('height', h_sum);
            // $(".mian").css({
            // padding-right: '30px',
            // padding-left: '30px',
            // height: h_sum
            // });
        }
    });
    </script> -->
    <script type="text/javascript">
        $('#myCarousel').carousel({ interval: 1000 }).on('slide.bs.carousel', function () { document.getElementById('player').pause(); });

$('#myCarousel').bind('slide.bs.carousel', function () {
document.getElementById('player').play(); })
    </script>
    <!-- <script type="text/javascript">
    let allVids = $("#myCarousel").find('.carousel-item');

    allVids.each(function(index, el) {
        console.log('fff');
        if (index !== 0) {
            $(this).find('video')[0].pause();
        }
    });
    $( '#myCarousel' ).on( 'cycle-after', function(event, optionHash, outgoingSlideEl, incomingSlideEl, forwardFlag) {
    $('video', incomingSlideEl)[0].play();
    });

    //Triggered just prior to a transition to a new slide.
    $( '#myCarousel' ).on( 'cycle-before', function(event, optionHash, outgoingSlideEl, incomingSlideEl, forwardFlag) {
        $('video', outgoingSlideEl)[0].pause();
    });
    $("#myCarousel").on('slide.bs.carousel', function(ev) {
        let slides = $(this).find('.carousel-item');
        let pvid = slides[ev.from].querySelectorAll('video')[0];
        let vid = slides[ev.to].querySelectorAll('video')[0];
        let isPlaying = vid.currentTime > 0 && vid.readyState > 2;

        vid.play();

        if (isPlaying) {
            pvid.pause();
        }

    });
    </script> -->
    <!-- <script type="text/javascript">
        console.log('ttt');
        $("#myCarousel").carousel({ interval: false }); // this prevents the auto-loop
        var vid1 = document.getElementById("player");
        var vid2 = document.getElementById("player1");
        var vid3 = document.getElementById("player2");
            vid1.onended = function() { $("#myCarousel").carousel('next'); };
            vid2.onended = function() { $("#myCarousel").carousel('next'); };
            vid3.onended = function() { $("#myCarousel").carousel('next'); };
    </script> -->
</body>

</html>